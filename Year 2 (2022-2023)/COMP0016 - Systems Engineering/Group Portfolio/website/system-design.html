<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Fri Mar 31 2023 22:16:46 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64247b18f821795176e0d18f" data-wf-site="638b9b74346ec7740c80f020">
<head>
  <meta charset="utf-8">
  <title>System Design</title>
  <meta content="Touchless Kiosk Interface. Browser Plugin and App for Retailers, Hospitals and Museums..." name="description">
  <meta content="System Design" property="og:title">
  <meta content="Touchless Kiosk Interface. Browser Plugin and App for Retailers, Hospitals and Museums..." property="og:description">
  <meta content="System Design" property="twitter:title">
  <meta content="Touchless Kiosk Interface. Browser Plugin and App for Retailers, Hospitals and Museums..." property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/touchless-kiosks.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Inter:300,regular,500,600,700"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <style>
body{
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  }
</style>
</head>
<body>
  <div id="Top" class="back-to-top-container">
    <div class="back-to-top-button-wrapper">
      <a href="#Top" class="button-circle bg-gray-3 w-inline-block"><img src="images/icon-arrow-up.svg" alt="" class="button-circle-icon"></a>
    </div>
  </div>
  <div class="navbar-wrapper">
    <div class="container">
      <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" data-doc-height="1" role="banner" class="navbar w-nav">
        <div class="navbar-row">
          <div>
            <a href="index.html" class="navbar-1-brand w-nav-brand"><img src="images/filename-1.png" width="141" sizes="(max-width: 991px) 100vw, 141px" srcset="images/filename-1-p-500.png 500w, images/filename-1-p-800.png 800w, images/filename-1.png 972w" alt=""></a>
            <nav role="navigation" class="nav-menu w-nav-menu">
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link row w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="requirements.html">Requirements</a>
                      <link rel="prefetch" href="/requirements">
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="requirements.html#about-our-project" class="dropdown-item dropdown-item-large w-inline-block">Project Details</a>
                    <a href="requirements.html#requirement-gathering" class="dropdown-item dropdown-item-large w-inline-block">Requirement Gathering</a>
                    <a href="requirements.html#personas" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Personas</a>
                    <a href="requirements.html#moscow-reqs" class="dropdown-item dropdown-item-large w-inline-block">MoSCoW List</a>
                    <a href="requirements.html#use-cases" class="dropdown-item dropdown-item-large w-inline-block">Use Cases</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="research.html">Research</a>
                      <link rel="prefetch" href="/research">
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="research.html#related-project-review" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Related Project Review</a>
                    <a href="research.html#design-tech-review" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Design and Tech Review</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="ui-design.html">UI</a>
                      <link rel="prefetch" href="/ui-design">
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="ui-design.html#ui-design-overview" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Overview</a>
                    <a href="ui-design.html#kiosk-web-extension" class="dropdown-item dropdown-item-large w-dropdown-link">Web Extension</a>
                    <a href="ui-design.html#backend-launcher" class="dropdown-item dropdown-item-large w-dropdown-link">Backend Launcher (MFC)</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="system-design.html" aria-current="page" class="w--current">System Design</a>
                      <link rel="prefetch" href="/system-design">
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="system-design.html#system-architecture" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">System Architecture</a>
                    <a href="system-design.html#motioninput-architecture" class="dropdown-item dropdown-item-large w-inline-block">MotionInput Architecture</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="implementation.html">Implementation</a>
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="implementation.html#tools" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Tools &amp; Dependencies</a>
                    <a href="implementation.html#motioninput" class="dropdown-item dropdown-item-large w-inline-block">MotionInput</a>
                    <a href="implementation.html#web-extension" class="dropdown-item dropdown-item-large w-dropdown-link">Web Extension</a>
                    <a href="implementation.html#communication-protocol" class="dropdown-item dropdown-item-large w-dropdown-link">Communication Protocol</a>
                    <a href="implementation.html#intermediary-server" class="dropdown-item dropdown-item-large w-dropdown-link">Intermediary Server</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link row w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="testing.html">Testing</a>
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="testing.html#testing-overview" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Overview</a>
                    <a href="testing.html#unit-testing" class="dropdown-item dropdown-item-large w-inline-block">Unit Testing</a>
                    <a href="testing.html#integration-testing" class="dropdown-item dropdown-item-large w-dropdown-link">Integration Testing</a>
                    <a href="testing.html#user-acceptance-testing" class="dropdown-item dropdown-item-large w-dropdown-link">User Acceptance Testing</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="evaluation.html">Evaluation</a>
                      <link rel="prefetch" href="/evaluation">
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="evaluation.html#accomplishments" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Accomplishments</a>
                    <a href="evaluation.html#known-bugs" class="dropdown-item dropdown-item-large w-inline-block">Known Bugs</a>
                    <a href="evaluation.html#individual-contribution" class="dropdown-item dropdown-item-large w-inline-block">Individual Contribution</a>
                    <a href="evaluation.html#critical-evaluation" class="dropdown-item dropdown-item-large w-inline-block">Critical Evaluation</a>
                    <a href="evaluation.html#future-work" class="dropdown-item dropdown-item-large w-inline-block">Future Work</a>
                  </div>
                </nav>
              </div>
              <div data-delay="0" data-hover="true" class="w-dropdown">
                <div class="nav-link w-dropdown-toggle">
                  <div class="row row-align-center">
                    <div>
                      <a href="appendices.html">Appendices</a>
                    </div><img src="images/icon-caret-down.svg" alt="" class="dropdown-link-icon">
                  </div>
                </div>
                <nav class="dropdown-list w-dropdown-list">
                  <div class="dropdown-list-wrapper">
                    <div class="dropdown-bg"></div>
                    <a href="appendices.html#deployment-manual" data-scroll-time="5" class="dropdown-item dropdown-item-large w-inline-block">Deployment Manual</a>
                    <a href="appendices.html#user-manual" class="dropdown-item dropdown-item-large w-dropdown-link">User Manual</a>
                    <a href="appendices.html#development-blog" class="dropdown-item dropdown-item-large w-inline-block">Development Blog</a>
                    <a href="appendices.html#licenses" class="dropdown-item dropdown-item-large w-inline-block">Licenses</a>
                  </div>
                </nav>
              </div>
            </nav>
          </div>
          <div class="navbar-controls">
            <div class="menu-button w-nav-button"><img src="https://uploads-ssl.webflow.com/638b9c17ea2b8d06f75af7cc/638b9c17ea2b8d32ea5af819_icon-menu.svg" alt=""></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="section header wf-section">
    <div class="container justify-content-center">
      <div class="center-content content-width-large">
        <h5 class="panel-subheading text-primary-1">System architecture and its components</h5>
        <h1 class="display-heading-2 no-bottom-space">System Design</h1>
      </div>
    </div>
  </div>
  <section id="system-architecture" class="section wf-section">
    <h1 class="display-heading-4 center-content">System Architecture</h1>
    <div class="container">
      <div class="w-layout-grid grid-9">
        <div id="w-node-f1c9a535-5f26-a0a4-4e5d-f384ff527844-76e0d18f" class="container-2">
          <div data-w-id="f1c9a535-5f26-a0a4-4e5d-f384ff527845" class="panel">
            <div class="panel-body">
              <div class="space-bottom-large">
                <h5 class="panel-subheading text-primary-2">A. System Architechture</h5>
              </div>
              <div class="accordion-head">
                <h5 class="accordion-head-text-2 text-white">A visualized high-level architecture of our solution:</h5>
                <div id="w-node-f99dceef-836c-9f97-9f68-fe90fac310f5-76e0d18f" class="icon-circle-small-2 bg-gray-3"><img src="https://uploads-ssl.webflow.com/638b9c17ea2b8d06f75af7cc/638b9c17ea2b8d707f5af8ab_icon-chevron-right-small-white.svg" alt="" class="icon-small"></div>
              </div>
              <div class="accordion-body"><img src="images/system-acrhitecture.png" loading="lazy" sizes="100vw" srcset="images/system-acrhitecture-p-500.png 500w, images/system-acrhitecture-p-800.png 800w, images/system-acrhitecture-p-1080.png 1080w, images/system-acrhitecture-p-1600.png 1600w, images/system-acrhitecture-p-2000.png 2000w, images/system-acrhitecture.png 2244w" alt="" class="image-3"></div>
            </div>
          </div>
        </div>
        <div id="w-node-_1a4c77c0-77b6-7541-b696-e6aeb90f53f4-76e0d18f" class="container-2">
          <div data-w-id="1a4c77c0-77b6-7541-b696-e6aeb90f53f5" class="panel">
            <div class="panel-body">
              <div class="space-bottom-large">
                <h5 class="panel-subheading text-primary-2">B. Users &amp; Frontend</h5>
              </div>
              <div class="body-text-small body-text-medium">Based on our personas and requirements gathering, we have <span class="text-gray">identified two distinct types of users:</span> staff/admin and the general public.<br><br>The <span class="text-gray">general public</span> interacts with kiosk interfaces directly, and we <span class="text-gray">provide them with a WebExtension</span> front-end built with React and JavaScript. This front-end can be hooked into any pre-existing kiosk interface as a sidebar to display essential information from the backend. This includes a live preview of the user’s hand, making it easier to perform gestures, live swipe detection boundaries, gesture sensitivity settings, and general status information.<br><br>For <span class="text-gray">staff/admin</span>, we <span class="text-gray">provide an admin control panel</span> front-end built using the Microsoft Foundation Class library in C++. This control panel sets the initial configuration settings of the program, such as gesture sensitivity, camera selection, hand detection, crowd rejection confidence, and more. Staff/admin can easily launch or exit the backend processes with the click of a button.<br></div>
            </div>
          </div>
        </div>
        <div id="w-node-cbf3cfe6-6079-ae69-9b88-c24c55494e17-76e0d18f" class="container-2">
          <div data-w-id="cbf3cfe6-6079-ae69-9b88-c24c55494e18" class="panel">
            <div class="panel-body">
              <div class="space-bottom-large">
                <h5 class="panel-subheading text-primary-2">C. Backend &amp; Data Store</h5>
              </div>
              <div class="body-text-small body-text-medium">The backend consists of an <span class="text-gray">intermediary server</span> written in Python that runs on the machine’s localhost and the UCL MotionInput Python backend. MotionInput detects gestures and simulates controls based on those gestures. It reads the camera input, identifies and tracks activated gestures on each frame, and performs the relevant keyboard control based on those gestures. <br><br>The <span class="text-gray">intermediary server</span> sits between MotionInput and the WebExtension frontend and <span class="text-gray">facilitates bidirectional communication</span> between the two via RESTful JSON encoded messages. It communicates with MotionInput using the ZeroMQ messaging library and communicates with the WebExtension frontend using WebSockets. <br><br>The <span class="text-gray">data store</span> consists of JSON config files and pre-trained machine learning models used by the MotionInput backend.<br></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="motioninput-architecture" class="section wf-section">
    <h1 class="display-heading-4 center-content">MotionInput Architecture</h1>
    <div class="container">
      <div class="container-2">
        <div data-w-id="e45ed758-5c5d-27d8-d0dd-232ed67afd4c" class="panel">
          <div class="panel-body">
            <div class="space-bottom-large">
              <h5 class="panel-subheading text-primary-2">D. MotionInput Backend Architecture</h5>
            </div>
            <div class="body-text-small body-text-medium">Although the <span class="text-gray">UCL MotionInput</span> backend is a pre-existing solution, we have <span class="text-gray">made several changes to it</span> for our solution. The general architecture of MotionInput can be seen in the following diagram, with the <span class="text-gray">parts circled in red</span> being areas that we extensively modified or added new functionality to.<br></div>
            <div class="accordion-head">
              <h5 class="accordion-head-text-2 text-white">MotionInput System Architecture</h5>
              <div id="w-node-e45ed758-5c5d-27d8-d0dd-232ed67afd60-76e0d18f" class="icon-circle-small-2 bg-gray-3"><img src="https://uploads-ssl.webflow.com/638b9c17ea2b8d06f75af7cc/638b9c17ea2b8d707f5af8ab_icon-chevron-right-small-white.svg" alt="" class="icon-small"></div>
            </div>
            <div class="accordion-body"><img src="images/MI-system-architecture.png" loading="lazy" sizes="100vw" srcset="images/MI-system-architecture-p-500.png 500w, images/MI-system-architecture-p-800.png 800w, images/MI-system-architecture-p-1080.png 1080w, images/MI-system-architecture-p-1600.png 1600w, images/MI-system-architecture.png 1842w" alt=""></div>
          </div>
        </div>
      </div>
      <div id="w-node-e45ed758-5c5d-27d8-d0dd-232ed67afd64-76e0d18f" class="container-2">
        <div data-w-id="e45ed758-5c5d-27d8-d0dd-232ed67afd65" class="panel">
          <div class="panel-body">
            <div class="space-bottom-large">
              <h5 class="panel-subheading text-primary-2">E. Changes to MotionInput</h5>
            </div>
            <div class="body-text-small body-text-medium">We made several significant changes to the UCL MotionInput backend to enhance its functionality. These changes can be broadly categorised as follows:<br><br><span class="text-white">MotionInputAPI:</span> We created an API for a ZeroMQ client to facilitate communication with the intermediary server. This client runs in a dedicated thread and provides a high-level API for MotionInput modules. This abstraction simplifies the complexities of the client and enables any module to send data to the WebExtension frontend through the intermediary server.<br>‍<br><span class="text-white">HandLandmarkDetector:</span> It uses Mediapipe to analyse a frame and detect hand landmarks. We created a hand detection heuristic function that detects the best hand in the camera frame based on factors such as distance from the camera and proximity to the centre of the frame. This feature is essential for rejecting extraneous hands in a public setting and only tracking the controlling user’s hand.<br>‍<br><span class="text-white">ModeController:</span> It is used to switch between the modes of interaction, thus switching the sets of events in the model. We created two modes for touchless kiosk navigation: touchless kiosk navigation with the right hand and touchless kiosk navigation with the left hand.<br>‍<br><span class="text-white">Config:</span> We added configuration settings to control aspects such as spawning the WebSocket thread, hiding the camera preview window, and adjusting swipe sensitivity for touchless kiosk navigation.<br>‍<br><span class="text-white">GestureEvent:</span> It is the action that occurs after a gesture is performed. We added a custom gesture event that allows users to control kiosk interfaces with touchless swipe gestures.<br></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="footer wf-section">
    <div class="container">
      <div class="panel">
        <div class="panel-body footer-1-panel-body">
          <div class="footer-1-top-row">
            <div class="content-width-extra-small">
              <a href="index.html" class="space-bottom w-inline-block"><img src="images/filename-1.png" width="170" sizes="(max-width: 479px) 60vw, 170px" srcset="images/filename-1-p-500.png 500w, images/filename-1-p-800.png 800w, images/filename-1.png 972w" alt=""></a>
              <div class="text-lead">UCL MotionInput v3.2<br>Resilient Kiosk</div>
            </div>
          </div>
          <div class="footer-1-bottom-row">
            <div class="text-small">© Copyright Panels • Powered by <a href="https://www.webflow.com/" target="_blank">Webflow</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=638b9b74346ec7740c80f020" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>